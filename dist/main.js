!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){t.exports={Passphrase:class{constructor(){this.phrase=Math.random().toString(36).substring(2,8)}phrase(){return this.phrase}}}},function(t,e,r){"use strict";r.r(e);var n=r(0);class i{constructor(){this.text="",this.text_vacancies=[]}getText(){return this.text}getVacancies(){return this.text_vacancies}addText(t,e){e instanceof n.Passphrase&&(this.text+=t)}clear(){this.text=""}eraseText(t,e){if(!(e instanceof n.Passphrase)||this.text.indexOf(t)<0)return;const r=this.text.lastIndexOf(t),i=t.length,s=this.text.substring(0,r)+" ".repeat(i)+this.text.substring(r+i);this.text=s,this.text_vacancies.push([r,i]),this.text_vacancies.sort()}editText(t,e){const r=this.text_vacancies,i=this.text;if(!(e instanceof n.Passphrase)||0==r.length)return;const s=r[0][0],a=r[0][1],o=s+a,c=function(t,e,r){const n=e.length;for(var i="",s=0,a=r;a<r+n;a++)" "!=t[a]?i+="@":i+=e[s],s++;return i}(i,t.substring(a),o),l=t.substring(0,a)+c,p=i.substring(0,s)+l+i.substring(s+t.length);this.text=p,this.text_vacancies=r.splice(1)}}class s{constructor(t=10,e=1,r=10){this.point_durability=this.original_point_durability=t,this.pencil_length=e,this.eraser_durability=r,this.passphrase=new n.Passphrase}getPointDurability(){return this.point_durability}getLength(){return this.pencil_length}getEraserDurability(){return this.eraser_durability}write(t,e){const r=a(t);var n=this.point_durability-r,i=t;n<0&&(n=0,i=o(t,this.point_durability)),this.point_durability=n,e.addText(i,this.passphrase)}sharpen(){0!=this.pencil_length&&(this.point_durability=this.original_point_durability,this.pencil_length--)}erase(t,e){if(" "==t||e.getText().indexOf(t)<0)return;const r=t.replace(/\s/g,"").length;var n=this.eraser_durability-r,i=t;if(n<0){n=0;var s=t.length-this.eraser_durability;i=t.substring(s)}this.eraser_durability=n,e.eraseText(i,this.passphrase)}edit(t,e){const r=a(t);var n=this.point_durability-r,i=t;n<0&&(n=0,i=o(t,this.point_durability)),this.point_durability=n,e.editText(i,this.passphrase)}}function a(t){const e=t.replace(/[^A-Z]/g,"").length;return t.replace(/\s/g,"").length+e}function o(t,e){var r=0;const n=t.length;for(var i=0;e>0&&n>i||" "==t[i];){var s=t[i];" "==s||(s.toUpperCase()==s?e-=2:e--),r++,i++}return t.substr(0,r)}$("document").ready((function(){const t={"Paper 1":".initial-paper","Paper 2":".secondary-paper"};var e=1,r={},n={"Paper 1":new i};function a(){if("-Select a Pencil-"==$(".dropdown-toggle.pencil").text().trim())return;const e=r[$(".dropdown-toggle.pencil").text().trim()],i=n[$(".dropdown-toggle.paper").text().trim()],s=t[$(".dropdown-toggle.paper").text().trim()],a=$("input").val();e.write(a,i),$(s).text(i.getText()),function(t,e){const r='tr[value="'+t+'"]';$(".PD",r).text(e.getPointDurability()),$(".ED",r).text(e.getEraserDurability()),$(".PL",r).text(e.getLength())}($(".dropdown-toggle.pencil").text().trim()[$(".dropdown-toggle.pencil").text().length-1],e)}$(".create-pencil-btn").click((function(){!function(){const t=Math.round(100*Math.random())%20,n=Math.round(100*Math.random())%20,i=Math.round(10*Math.random())%3;$(".table tbody").append('<tr value="'+e+'"><td>'+e+'</td><td class="PD">'+t+'</td><td class="ED">'+n+'</td><td class="PL">'+i+"</td></tr>"),$(".dropdown-menu.pencil").append("<a class=\"dropdown-item\" onclick=\"$('.dropdown-toggle.pencil').text('Pencil "+e+'\');" href="#">Pencil '+e+"</a>"),r["Pencil "+e]=new s(t,i,n),e++}()})),$(".create-paper-btn").click((function(){2!=Object.keys(n).length&&($(".initial-paper").css("width","50%"),$(".secondary-paper").css("width","50%"),n["Paper 2"]=new i,$(".dropdown-menu.paper").append('<a class="dropdown-item" onclick="$(\'.dropdown-toggle.paper\').text(\'Paper 2\');" href="#">Paper 2</a>'))})),$(".write-btn").click((function(){a()}))}))}]);