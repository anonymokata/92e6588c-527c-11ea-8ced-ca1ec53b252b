!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports={Passphrase:class{constructor(){this.phrase=Math.random().toString(36).substring(2,8)}phrase(){return this.phrase}}}},function(t,e,n){"use strict";n.r(e);var r=n(0);class i{constructor(){this.text="",this.text_vacancies=[]}getText(){return this.text}getVacancies(){return this.text_vacancies}addText(t,e){e instanceof r.Passphrase&&(this.text+=t)}clear(){this.text=""}eraseText(t,e){if(!(e instanceof r.Passphrase)||this.text.indexOf(t)<0)return;const n=this.text.lastIndexOf(t),i=t.length,o=this.text.substring(0,n)+" ".repeat(i)+this.text.substring(n+i);this.text=o,this.text_vacancies.push([n,i]),this.text_vacancies.sort()}editText(t,e){const n=this.text_vacancies,i=this.text;if(!(e instanceof r.Passphrase)||0==n.length)return;const o=n[0][0],s=n[0][1],a=o+s,l=function(t,e,n){const r=e.length;for(var i="",o=0,s=n;s<n+r;s++)" "!=t[s]?i+="@":i+=e[o],o++;return i}(i,t.substring(s),a),c=t.substring(0,s)+l,p=i.substring(0,o)+c+i.substring(o+t.length);this.text=p,this.text_vacancies=n.splice(1)}}class o{constructor(t=10,e=1,n=10){this.point_durability=this.original_point_durability=t,this.pencil_length=e,this.eraser_durability=n,this.passphrase=new r.Passphrase}getPointDurability(){return this.point_durability}getLength(){return this.pencil_length}getEraserDurability(){return this.eraser_durability}write(t,e){const n=s(t);var r=this.point_durability-n,i=t;r<0&&(r=0,i=a(t,this.point_durability)),this.point_durability=r,e.addText(i,this.passphrase)}sharpen(){0!=this.pencil_length&&(this.point_durability=this.original_point_durability,this.pencil_length--)}erase(t,e){if(" "==t||e.getText().indexOf(t)<0)return;const n=t.replace(/\s/g,"").length;var r=this.eraser_durability-n,i=t;if(r<0){r=0;var o=t.length-this.eraser_durability;i=t.substring(o)}this.eraser_durability=r,e.eraseText(i,this.passphrase)}edit(t,e){if(0==e.getVacancies().length)return;const n=s(t);var r=this.point_durability-n,i=t;r<0&&(r=0,i=a(t,this.point_durability)),this.point_durability=r,e.editText(i,this.passphrase)}}function s(t){const e=t.replace(/[^A-Z]/g,"").length;return t.replace(/\s/g,"").length+e}function a(t,e){var n=0;const r=t.length;for(var i=0;e>0&&r>i||" "==t[i];){var o=t[i];" "==o||(o.toUpperCase()==o?e-=2:e--),n++,i++}return t.substr(0,n)}$("document").ready((function(){const t={"Paper 1":".initial-paper","Paper 2":".second-paper"};var e=1,n={},r={"Paper 1":new i};function s(t,e){const n='tr[value="'+t+'"]';$(".PD",n).text(e.getPointDurability()),$(".ED",n).text(e.getEraserDurability()),$(".PL",n).text(e.getLength())}$(".create-pencil-btn").click((function(){!function(){const t=Math.round(100*Math.random())%20+1,r=Math.round(100*Math.random())%20+1,i=Math.round(10*Math.random())%3+1;$(".table tbody").append('<tr value="'+e+'"><td>'+e+'</td><td class="PD">'+t+'</td><td class="ED">'+r+'</td><td class="PL">'+i+"</td></tr>"),$(".dropdown-menu.pencil").append("<a class=\"dropdown-item\" onclick=\"$('.dropdown-toggle.pencil').text('Pencil "+e+'\');" href="#">Pencil '+e+"</a>"),n["Pencil "+e]=new o(t,i,r),e++}()})),$(".create-paper-btn").click((function(){2!=Object.keys(r).length&&($(".initial-paper").css("width","50%"),$(".second-paper").css("width","50%"),r["Paper 2"]=new i,$(".paper-2").toggle())})),$(".write-btn").click((function(){!function(){if("-Select a Pencil-"==$(".dropdown-toggle.pencil").text().trim())return;const e=n[$(".dropdown-toggle.pencil").text().trim()],i=r[$(".dropdown-toggle.paper").text().trim()],o=t[$(".dropdown-toggle.paper").text().trim()],a=$("input").val();e.write(a,i),$("PRE",o).text(i.getText()),s($(".dropdown-toggle.pencil").text().trim()[$(".dropdown-toggle.pencil").text().length-1],e)}()})),$(".erase-btn").click((function(){!function(){if("-Select a Pencil-"==$(".dropdown-toggle.pencil").text().trim())return;const e=n[$(".dropdown-toggle.pencil").text().trim()],i=r[$(".dropdown-toggle.paper").text().trim()],o=t[$(".dropdown-toggle.paper").text().trim()],a=$("input").val();e.erase(a,i),$("PRE",o).text(i.getText()),s($(".dropdown-toggle.pencil").text().trim()[$(".dropdown-toggle.pencil").text().length-1],e)}()})),$(".edit-btn").click((function(){!function(){if("-Select a Pencil-"==$(".dropdown-toggle.pencil").text().trim())return;const e=n[$(".dropdown-toggle.pencil").text().trim()],i=r[$(".dropdown-toggle.paper").text().trim()],o=t[$(".dropdown-toggle.paper").text().trim()],a=$("input").val();e.edit(a,i),$("PRE",o).text(i.getText()),s($(".dropdown-toggle.pencil").text().trim()[$(".dropdown-toggle.pencil").text().length-1],e)}()})),$(".sharpen-btn").click((function(){!function(){if("-Select a Pencil-"==$(".dropdown-toggle.pencil").text().trim())return;const t=n[$(".dropdown-toggle.pencil").text().trim()];t.sharpen(),s($(".dropdown-toggle.pencil").text().trim()[$(".dropdown-toggle.pencil").text().length-1],t)}()}))}))}]);